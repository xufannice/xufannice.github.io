<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
	<style>
			*{
				margin: 0;
				padding: 0;
			}
	       .div{
	            width: 100px;
	            height: 100px;
	            background-color: red;
	            position: absolute;
				
	        }
			p{
				width: 100px;
				height: 20px;
				background: yellow;
				text-align: center;
				line-height: 20px;
				color:#fff;
				user-select: none;
				
			}
    </style>
<body>
	<div id="box" >
		<div class="div"><p v-no1="">拖动这里</p></div>
	</div>
</body>
</html>
<script src="vue.js"></script>
<script>
	Vue.directive('no1',{
		bind(){

		},
		inserted(){
			var divs = document.getElementsByTagName('div')[1];
			var p=document.getElementsByTagName('p')[0]
			console.log(divs)
			p.onmousedown = function(){
		        var x1 = event.clientX;
		        var y1 = event.clientY;
		        var l = divs.offsetLeft;
		        var t = divs.offsetTop;
		        document.onmousemove = function(){
		            var x2 = event.clientX;
		            var y2 = event.clientY;
		            var x = x2-x1;
		            var y = y2-y1;
		            divs.style.top =  y+t+'px';
		            divs.style.left = x+l+'px';

		        }
		    }
			p.onmouseup = function(){
			
			    document.onmousemove = null;
			
			}
		},

	})
	new Vue({
		el:'#box'
	})
</script>
 